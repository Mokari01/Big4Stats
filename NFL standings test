import requests
from datetime import datetime


def get_nfl_standings(date):
    # Extract the year from the date
    try:
        year = datetime.strptime(date, "%Y-%m-%d").year  # Extract the year from the date
    except ValueError:
        print("Invalid date format. Please use YYYY-MM-DD.")
        return

    url = "https://api-baseball.p.rapidapi.com/standings"
    querystring = {"season": str(year), "league": "1"}  # Use the extracted year for season
    headers = {
        "X-RapidAPI-Key": "60ae690f03msh00322281f0bf93dp11feccjsn9c179c4d7da9",
        "X-RapidAPI-Host": "api-baseball.p.rapidapi.com"
    }

    response = requests.get(url, headers=headers, params=querystring)
    standings = response.json()
    print_standings(standings)


def print_standings(data):
    if 'response' in data and len(data['response']) > 0:
        for league in data['response'][0]:
            print(f"{league['group']['name']} Standings:")
            for team in league:
                print(
                    f"{team['team']['name']:30} Played: {team['games']['played']}, Wins: {team['games']['win']['total']}, Losses: {team['games']['lose']['total']}")
            print("\n")
    else:
        print("No standings data available.")


# Main function to run the script
if __name__ == "__main__":
    date_input = input("Enter the date (YYYY-MM-DD) for which you want the NFL standings: ")
    get_nfl_standings(date_input)
