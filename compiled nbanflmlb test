import requests


# Function to fetch standings
def get_standings(sport, season):
    api_details = {
        'NFL': {
            "url": "https://api-american-football.p.rapidapi.com/standings",
            "host": "api-american-football.p.rapidapi.com",
            "key": "60ae690f03msh00322281f0bf93dp11feccjsn9c179c4d7da9"
        },
        'MLB': {
            "url": "https://api-baseball.p.rapidapi.com/standings",
            "host": "api-baseball.p.rapidapi.com",
            "key": "60ae690f03msh00322281f0bf93dp11feccjsn9c179c4d7da9"
        },
        'NBA': {
            "url": "https://api-basketball.p.rapidapi.com/standings",
            "host": "api-basketball.p.rapidapi.com",
            "key": "60ae690f03msh00322281f0bf93dp11feccjsn9c179c4d7da9"
        }
    }
    headers = {
        "X-RapidAPI-Key": api_details[sport]['key'],
        "X-RapidAPI-Host": api_details[sport]['host']
    }
    response = requests.get(api_details[sport]['url'], headers=headers, params={"league": "1", "season": season})
    return response.json()


# Function to fetch games on a specific date
def get_games(sport, date):
    api_details = {
        'NFL': {
            "url": "https://api-american-football.p.rapidapi.com/games",
            "host": "api-american-football.p.rapidapi.com",
            "key": "60ae690f03msh00322281f0bf93dp11feccjsn9c179c4d7da9"
        },
        'MLB': {
            "url": "https://api-baseball.p.rapidapi.com/games",
            "host": "api-baseball.p.rapidapi.com",
            "key": "60ae690f03msh00322281f0bf93dp11feccjsn9c179c4d7da9"
        },
        'NBA': {
            "url": "https://api-basketball.p.rapidapi.com/games",
            "host": "api-basketball.p.rapidapi.com",
            "key": "60ae690f03msh00322281f0bf93dp11feccjsn9c179c4d7da9"
        }
    }
    headers = {
        "X-RapidAPI-Key": api_details[sport]['key'],
        "X-RapidAPI-Host": api_details[sport]['host']
    }
    response = requests.get(api_details[sport]['url'], headers=headers, params={"date": date})
    return response.json()


# Function to handle user input and display results
def main():
    sport = input("Enter the sport (MLB, NFL, NBA): ")
    data_type = input("Do you want to see 'standings' or 'games'? Type the option: ")

    if data_type == 'standings':
        season = input("Enter the season year (YYYY): ")
        data = get_standings(sport, season)
        print(data)  # You would format this output based on your needs

    elif data_type == 'games':
        date = input("Enter the date (YYYY-MM-DD): ")
        data = get_games(sport, date)
        print(data)  # Format this output appropriately


#########MLB games 

def format_game_data(game_data):
    games = game_data.get('response', [])
    for game in games:
        date_time = game['date']
        home_team = game['teams']['home']['name']
        away_team = game['teams']['away']['name']
        home_score = game['scores']['home']['total']
        away_score = game['scores']['away']['total']
        status = game['status']['long']

        print(f"Date & Time: {date_time}")
        print(f"Match: {home_team} vs {away_team}")
        print(f"Score: {home_team} {home_score} - {away_team} {away_score}")
        print(f"Status: {status}")
        print("-" * 40)  # Separator for readability


# Example usage
date_input = input("Enter the date (YYYY-MM-DD) for which you want the MLB game scores: ")
game_data = fetch_mlb_game_data(date_input)
format_game_data(game_data)


#########MLB standings

# Function to print formatted MLB standings
def print_standings(data):
    if data['results'] == 0:
        print("No standings found for the given season.")
        return

    print("MLB Standings:")
    for team_info in data['response'][0]:
        print(f"Position: {team_info['position']}, Team: {team_info['team']['name']}")
        print(f"Games Played: {team_info['games']['played']}, Wins: {team_info['games']['win']['total']}, Losses: {team_info['games']['lose']['total']}")
        print(f"Win Percentage: {team_info['games']['win']['percentage']}, Points For: {team_info['points']['for']}, Points Against: {team_info['points']['against']}")
        print(f"Form: {team_info['form']}")
        print("-" * 80)

# Main function to control the program flow
def main():
    season = input("Enter the MLB season year (YYYY): ")
    standings_data = get_mlb_standings(season)
    print_standings(standings_data)


#########NBA games
def print_game_results(data):
    if data['results'] == 0:
        print("No games found for the given date.")
        return

    print("NBA Game Results:")
    print("-" * 100)
    for game in data['response']:
        print(f"Date: {game['date']['start'][:10]}")
        print(f"Arena: {game['arena']['name']}, {game['arena']['city']}, {game['arena']['state']}")
        print(f"Visiting Team: {game['teams']['visitors']['name']} - Points: {game['scores']['visitors']['points']}")
        print(f"Home Team: {game['teams']['home']['name']} - Points: {game['scores']['home']['points']}")
        print("Score by Quarter (Visitors - Home):")
        for v_score, h_score in zip(game['scores']['visitors']['linescore'], game['scores']['home']['linescore']):
            print(f"{v_score} - {h_score}")
        print("-" * 100)


# Main function to control the program flow
def main():
    date = input("Enter the date for NBA games (YYYY-MM-DD): ")
    game_data = get_nba_games_on_date(date)
    print_game_results(game_data)

#########NBA standings
def print_standings(data):
    if data['results'] == 0:
        print("No standings found for the given season.")
        return

    print("NBA Standings:")
    print("-" * 80)
    for team in data['response']:
        print(f"Team: {team['team']['name']} ({team['team']['code']})")
        print(f"Conference: {team['conference']['name']}, Rank: {team['conference']['rank']}")
        print(
            f"Division: {team['division']['name']}, Rank: {team['division']['rank']}, Games Behind: {team['gamesBehind']}")
        print(f"Wins: Home: {team['win']['home']}, Away: {team['win']['away']}, Total: {team['win']['total']}")
        print(f"Losses: Home: {team['loss']['home']}, Away: {team['loss']['away']}, Total: {team['loss']['total']}")
        print(f"Winning Streak: {'Yes' if team['winStreak'] else 'No'}, Current Streak: {team['streak']} games")
        print("-" * 80)


# Main function to control the program flow
def main():
    season = input("Enter the NBA season year (YYYY): ")
    standings_data = get_nba_standings(season)
    print_standings(standings_data)

#########NFL games
def print_standings(data):
    # Check if 'response' key is in the data and has content
    if 'response' in data and len(data['response']) > 0:
        # Loop through each game in the response
        for game_info in data['response']:
            # Extract game and teams information
            game = game_info['game']
            teams = game_info['teams']
            scores = game_info['scores']

            # Print game information
            print(f"Game ID: {game['id']} - {teams['home']['name']} vs {teams['away']['name']}")
            print(f"Date: {game['date']['date']} Time: {game['date']['time']} at {game['venue']['name']}")
            print(f"Score: {teams['home']['name']} {scores['home']['total']} - {teams['away']['name']} {scores['away']['total']}")
            print(f"Status: {game['status']['long']}")
            print("\n")
    else:
        print("No game data available.")

if __name__ == "__main__":
    date_input = input("Enter the date (YYYY-MM-DD) for which you want the NFL standings: ")
    get_nfl_standings(date_input)

#########NFL standings
def print_standings(data):
    if 'response' in data and len(data['response']) > 0:
        print("NFL Standings:\n")
        for team in data['response']:
            print(f"{team['team']['name']} - Conference: {team['conference']}, Division: {team['division']}")
            print(f"Position: {team['position']}, Wins: {team['won']}, Losses: {team['lost']}, Ties: {team['ties']}")
            print(f"Points For: {team['points']['for']}, Points Against: {team['points']['against']}, Point Difference: {team['points']['difference']}")
            print(f"Home Record: {team['records']['home']}, Road Record: {team['records']['road']}")
            print(f"Conference Record: {team['records']['conference']}, Division Record: {team['records']['division']}")
            print(f"Current Streak: {team['streak']}\n")
            print("-" * 80)
    else:
        print("No standings available for the given season.")

# Main function to control the program flow
def main():
    season = input("Enter the NFL season year (YYYY): ")
    standings_data = get_nfl_standings(season)
    print_standings(standings_data)

# Execute the main function
if __name__ == "__main__":
    main()


